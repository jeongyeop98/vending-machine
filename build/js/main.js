for(var list=document.getElementById("list"),drinks=[{name:"콜라",price:1200,quantity:2},{name:"사이다",price:1100,quantity:2},{name:"환타",price:1e3,quantity:2},{name:"오렌지주스",price:600,quantity:2},{name:"포도주스",price:500,quantity:2},{name:"레몬에이드",price:1300,quantity:2},{name:"게토레이",price:700,quantity:2},{name:"이프로",price:800,quantity:2},{name:"파워에이드",price:900,quantity:2}],i=0;i<drinks.length;i++){var content=document.querySelector("template").content,btn=content.getElementById("btn");btn.innerHTML=drinks[i].name+"<br/>"+drinks[i].price+"원",list.appendChild(document.importNode(content,!0))}for(var drinkList=document.querySelectorAll(".vendingMachine__item"),j=0;j<drinkList.length;j++)drinkList[j].idx=j,drinkList[j].addEventListener("click",function(){func.calcMoney([this.idx])});var func={userMoney:1e4,money:0,returnMoney:function(){this.userMoney+=this.money,this.money=0,this.refresh()},insertMoney:function(n){if(!(this.userMoney>=n))return console.log("돈이 없습니다"),!1;this.money+=n,this.userMoney-=n,this.refresh()},calcMoney:function(n){return drinks[n].price>this.money?(console.log("돈을 넣어주세요"),!1):0==drinks[n].quantity?(console.log("재고가 부족합니다"),!1):void(this.money>=drinks[n].price&&(console.log(drinks[n].name),this.money-=drinks[n].price,drinks[n].quantity-=1,this.refresh()))},refresh:function(){document.getElementById("money").innerHTML=this.userMoney,document.getElementById("changeMoney").innerHTML=this.money}};func.refresh();for(var insertMoneyBtn=document.querySelectorAll(".insertMoneyBtn"),k=0;k<insertMoneyBtn.length;k++)insertMoneyBtn[k].addEventListener("click",function(){var n=parseInt(this.innerHTML);func.insertMoney(n)});document.getElementById("returnMoney").addEventListener("click",function(){func.returnMoney()});